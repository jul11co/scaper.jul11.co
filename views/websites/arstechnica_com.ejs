<%
if (urlMatch('arstechnica.com')) {

  setScriptFile('arstechnica_com.ejs');

  removeSelector('.share-buttons');
  removeSelector('#comments-area');
  removeSelector('#article-footer');
  removeSelector('a.twitter-link');
  removeSelector('a.comment-count');

  // removeSelector('a.enlarge');
  removeSelector('.article-expander');

  $('figure').each(function() {
    $(this).css('width', '');
  });
  $('img').each(function() {
    $(this).removeAttr('width');
    $(this).removeAttr('height');
  });

  addCss('' +
  'ol {' +
    'list-style: none;' +
    'padding: 0;' +
    'margin: 0;' +
  '}' +
  '.archive-report article.in-column {' +
    'padding: 15px 0 20px;' +
    'margin: 0;' +
  '}' +
  'article.in-column {' +
    'border-bottom: 1px solid #dddddd;' +
    'margin-bottom: 15px;' +
    'position: relative;' +
    'padding-bottom: 7px;' +
  '}' +
  'article.in-column .archive-listing {' +
    'float: left;' +
    'margin: 0 10px 0 0;' +
  '}' +
  'article.in-column a {' +
    'font-size: 18px;' +
    'color: #263034;' +
  '}' +
  'article.in-column .byline {' +
    'color: #4f525a;' +
    'font-size: 11px;' +
    'margin: 0;' +
  '}' +
  'article.in-column .byline span.author,' +
  'article.in-column .byline a {' +
    'font-weight: bold;' +
    'color: #4f525a;' +
    'text-decoration: none;' +
    'font-size: 11px;' +
  '}' +
  'article.in-column h2,' +
  '#recommendations .upper-deck {' +
    'text-transform: uppercase;' +
    'color: #24af3a;' +
    'font-size: 11px;' +
    'margin: 0 0 6px 0;' +
  '}' +
  '.archive-report article.in-column {' +
    'padding: 15px 0 20px;' +
    'margin: 0;' +
  '}' +
  '.archive-brief article.in-column {' +
    'padding: 15px 0 10px;' +
    'margin: 0;' +
  '}' +
  '.heading {' +
    '-webkit-font-smoothing: antialiased;' +
    'text-rendering: optimizeLegibility;' +
    'text-decoration: none;' +
    'color: #263034;' +
    'padding: 0;' +
    'margin: 0;' +
  '}' +
  'p.excerpt,' + 
  '#recommendations .lower-deck {' +
    'line-height: 19px;' +
    'margin: 5px 0;' +
    'color: #657b83;' +
  '}' +
  'h2.standalone-deck {' +
    'color: #657b83;' +
    'font-size: 14px;' +
    'font-weight: bold;' +
    'padding-bottom: 12px;' +
    'border-bottom: 1px solid #dddddd;' +
  '}'
  );  
  addCss('' +
  '.related-stories {' +
    'float: right;' +
    'clear: right;' +
    'margin: 5px 0 20px 20px;' +
    'width: 270px;' +
    'padding-top: 15px;' +
    'border-bottom: 6px solid #dddddd;' +
    'border-top: 6px solid #dddddd;' +
  '}' +
  '.article-content .related-stories ul {' +
    'padding: 0;' +
    'list-style-type: none;' +
    'margin: 0;' +
  '}' +
  '.article-content .related-stories li {' +
    'border-bottom: 1px solid #dddddd;' +
  '}' +
  '.article-content .related-stories li:first-child a {' +
    'padding-top: 0;' +
  '}' +
  '.article-content .related-stories a {' +
    'font-weight: bold;' +
    'font-size: 12px;' +
    'line-height: 16px;' +
    'color: #4f525a;' +
    'display: block;' +
    'padding: 10px 0;' +
    'overflow: hidden;' +
  '}' +
  '.subheading,' +
  '.article-content aside h2 {' +
    '-webkit-font-smoothing: antialiased;' +
    'font-size: 14px;' +
    'line-height: 20px;' +
    'font-weight: normal;' +
    'text-transform: uppercase;' +
  '}' +
  '.related-stories h2 {' +
    'margin: 0;' +
    'text-rendering: optimizeLegibility;' +
    'margin-bottom: 15px;' +
  '}' +
  'td.subheading.newer {' +
    'float: right;' +
  '}'
  );
  addCss('' +
  '.pullbox {' +
    'display: block;' +
    'width: 230px;' +
    'padding: 10px 10px 0 10px;' +
    'border: 1px solid #dddddd;' +
    'background-color: #fff;' +
    'float: right;' +
    'clear: right;' +
    'color: #657b83;' +
    'margin: 0 0 20px 20px;' +
    'font-size: 14px;' +
  '}' +
  'aside.sidebar h3.further-reading {' +
    'text-transform: uppercase;' +
    'color: #24af3a;' +
    'font-size: 11px;' +
    'line-height: 11px;' +
    'margin: 5px 0 10px 0;' +
  '}'
  );

  if ($('section.archive').length) {

    removeInlineScripts('section.archive');
    normalizeLinks('section.archive');

    setHtml($('section.archive').html());
  } else {

    removeInlineScripts('article.standalone');
    normalizeLinks('article.standalone');

    setHtml($('article.standalone').html());
  }
}
%>